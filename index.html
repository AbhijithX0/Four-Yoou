<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Our Love Story</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@600&family=Indie+Flower&family=Sacramento&family=Caveat:wght@400;700&family=Great+Vibes&family=Cinzel:wght@400;600&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --paper-color: #fffdfc;
            --cover-color: #ffffff; /* Brighter, Vibrant Red */
            --spine-color: #d90429; /* Deep Red for shading */
            --text-color: #590d22;
            --accent-color: #ff8fa3;
            --shadow-deep: 5px 5px 15px rgba(0,0,0,0.4);
            --gold-accent: #ffd700;
        }

        body {
            /* Clean background to let the red pop */
            background: linear-gradient(135deg, #fff0f3 0%, #ffe5e5 100%);
            font-family: 'Indie Flower', cursive;
            color: var(--text-color);
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            width: 100vw;
            min-height: 100vh;
            min-height: 100dvh;
            margin: 0;
            padding: 0;
            perspective: 1500px;
        }

        /* Forced mobile behavior class (set by JS for touch devices) */
        body.mobile-scroll-mode {
            display: block !important;
            overflow-y: auto !important;
            overflow-x: hidden !important;
            align-items: initial !important;
        }

        body.mobile-scroll-mode .book {
            display: block;
            height: auto !important;
            overflow: visible !important;
            padding: 0.8rem 0.8rem 1.2rem;
        }

        body.mobile-scroll-mode .page {
            width: calc(100% - 1rem);
            height: auto !important;
            min-height: 0;
            perspective: none;
            cursor: default;
            margin: 0 auto 1rem;
        }

        body.mobile-scroll-mode .page.flipped,
        body.mobile-scroll-mode .flipped {
            transform: none !important;
        }

        body.mobile-scroll-mode .front,
        body.mobile-scroll-mode .back,
        body.mobile-scroll-mode .cover-front,
        body.mobile-scroll-mode .cover-back {
            position: relative;
            inset: auto;
            width: 100%;
            height: auto;
            min-height: 420px;
            transform: none !important;
            backface-visibility: visible;
            overflow: visible;
        }

        body.mobile-scroll-mode .front,
        body.mobile-scroll-mode .back {
            margin-bottom: 0.8rem;
        }

        body.mobile-scroll-mode .back {
            border-left: 4px solid var(--spine-color);
            border-right: none;
            border-radius: 3px 10px 10px 3px;
            background-image: none;
        }

        body.mobile-scroll-mode .cover-front {
            border-left: 8px solid var(--spine-color);
        }

        body.mobile-scroll-mode .cover-back {
            border-right: none;
            border-left: 8px solid var(--spine-color);
        }

        body.mobile-scroll-mode .page-number {
            position: static;
            margin-top: auto;
            padding-top: 0.5rem;
        }

        body.mobile-scroll-mode .instruction {
            display: none;
        }

        /* Scoped mobile fix only for the dreams page (before proposal). */
        body.mobile-scroll-mode .dreams-page .polaroid-container {
            display: grid;
            grid-template-columns: repeat(2, minmax(0, 1fr));
            gap: 0.7rem;
            height: auto;
            pointer-events: auto;
            margin-top: 0.6rem;
        }

        body.mobile-scroll-mode .dreams-page .polaroid {
            position: relative !important;
            top: auto !important;
            right: auto !important;
            bottom: auto !important;
            left: auto !important;
            width: 100% !important;
            transform: none !important;
            margin: 0;
            justify-self: stretch;
        }

        body.mobile-scroll-mode .dreams-page .polaroid img {
            height: 95px;
        }

        body.mobile-scroll-mode .dreams-page .polaroid-container .polaroid:nth-child(3) {
            grid-column: 1 / -1;
            max-width: 210px;
            justify-self: center;
        }

        body.mobile-scroll-mode .dreams-page > .deco-img {
            position: static !important;
            transform: none !important;
            width: min(40px, 12vw) !important;
            float: right;
            margin: 0 0 0.45rem 0.45rem;
        }

        body.mobile-scroll-mode .dreams-page h2 {
            clear: both;
        }

        /* Sakura (Cherry Blossom) Animation */
        .sakura-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
            overflow: hidden;
        }

        .sakura {
            position: absolute;
            background-color: #ffb7b2;
            border-radius: 100% 0 100% 0;
            opacity: 0.8;
            animation: fall linear infinite;
        }

        .confetti-container {
            position: fixed;
            inset: 0;
            pointer-events: none;
            overflow: hidden;
            z-index: 350;
        }

        .confetti-piece {
            position: fixed;
            width: 12px;
            height: 16px;
            opacity: 1;
            will-change: transform, opacity;
            border-radius: 2px;
            box-shadow: 0 0 1px rgba(0,0,0,0.25);
        }

        @keyframes fall {
            0% { transform: translate(0, -10%) rotate(0deg); opacity: 0; }
            10% { opacity: 1; }
            100% { transform: translate(100px, 110vh) rotate(360deg); opacity: 0; }
        }

        /* Music Button */
        .music-control {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 100;
            background: white;
            width: 48px;
            height: 48px;
            display: grid;
            place-items: center;
            border-radius: 50%;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: transform 0.2s;
            touch-action: manipulation;
        }
        .music-control:hover { transform: scale(1.1); }

        /* Book Container */
        .book {
            display: flex;
            flex-wrap: wrap;
            gap: 1.5rem;
            width: 100%;
            max-width: 100vw;
            height: 100%;
            padding: 1rem;
            overflow-y: auto;
            overscroll-behavior: contain;
            -webkit-overflow-scrolling: touch;
            align-content: flex-start;
            justify-content: center;
            z-index: 10;
        }

        /* Individual Pages */
        .page {
            position: relative;
            width: calc(50% - 1rem);
            height: clamp(480px, 72vh, 780px);
            flex-shrink: 0;
            transform-origin: center;
            transform-style: preserve-3d;
            transition: transform 0.6s cubic-bezier(0.645, 0.045, 0.355, 1);
            cursor: pointer;
            border-radius: 3px 10px 10px 3px;
            perspective: 1200px;
            touch-action: manipulation;
        }

        .page.flipped {
            transform: rotateY(-180deg);
        }

        /* Paper Texture & Lines */
        .front, .back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            background-color: var(--paper-color);
            padding: 1.5rem 1.5rem;
            box-sizing: border-box;
            border-left: 4px solid var(--spine-color);
            box-shadow: var(--shadow-deep);
            border-radius: 3px 10px 10px 3px;
            overflow-y: auto;
            overscroll-behavior: contain;
            -webkit-overflow-scrolling: touch;
            top: 0;
            left: 0;
            display: flex;
            flex-direction: column;
        }

        .front { z-index: 2; }
        .back {
            transform: rotateY(180deg);
            z-index: 1;
            border-left: none;
            border-right: 4px solid var(--spine-color);
            border-radius: 10px 3px 3px 10px;
            background-image: linear-gradient(to right, rgba(0,0,0,0.08) 0%, transparent 10%); /* Shadow for depth */
        }

        /* Page Content */
        h1 { font-family: 'Great Vibes', cursive; color: #fff; }
        h2 { font-family: 'Caveat', cursive; font-weight: 700; color: #d90429; font-size: 1.4rem; margin-bottom: 0.3rem; position: relative; z-index: 5; }
        
        p {
            line-height: 1.3rem;
            font-size: clamp(0.84rem, 1.6vw, 1rem); 
            margin-bottom: 0.8rem;
            text-align: justify;
            color: #4a0a18;
            position: relative;
            z-index: 5;
        }

        .highlight-date {
            color: #d90429;
            font-weight: bold;
            background: #ffe3e3;
            padding: 0 4px;
            border-radius: 3px;
        }

        .page-number {
            position: absolute;
            bottom: 10px;
            width: 100%;
            text-align: center;
            font-size: 0.7rem;
            color: #ff8fa3;
            left: 0;
        }

        /* --- RED AESTHETIC COVER STYLES --- */
        .cover-front {
            background-color: var(--cover-color);
            /* Subtle texture for cover */
            background-image: url("data:image/svg+xml,%3Csvg width='40' height='40' viewBox='0 0 40 40' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M20 20.5V18H0v-2h20v-2H0v-2h20v-2H0V8h20V6H0V4h20V2H0V0h22v20h2V0h2v20h2V0h2v20h2V0h2v20h2v2H22v18H0v-2h20v-2H0v-2h20v-2H0v-2h20v-2H0zM32 20v18h2V20h-2zM36 20v18h2V20h-2zM28 20v18h2V20h-2zM24 20v18h2V20h-2z' fill='%239e0000' fill-opacity='0.05' fill-rule='evenodd'/%3E%3C/svg%3E");
            color: white;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            border: 1px solid #d90429;
            border-left: 12px solid var(--spine-color);
            box-shadow: inset 0 0 30px rgba(0,0,0,0.3);
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
        }

        /* Gold aesthetic border frame */
        .cover-frame {
            border: 2px solid rgba(255, 0, 0, 0.4);
            width: 85%;
            height: 85%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            position: relative;
            z-index: 10;
        }

        .cover-title {
            font-family: 'Great Vibes', cursive;
            font-size: 3rem;
            color: #fff;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
            margin-bottom: 1rem;
            z-index: 10;
        }

        .cover-subtitle {
            font-family: 'Cinzel', serif;
            font-size: 0.8rem;
            letter-spacing: 2px;
            text-transform: uppercase;
            color: rgba(255,255,255,0.9);
            border-top: 1px solid rgba(255,255,255,0.4);
            border-bottom: 1px solid rgba(255,255,255,0.4);
            padding: 5px 0;
            margin-top: 10px;
        }

        .cover-back {
            background-color: var(--cover-color);
             background-image: url("data:image/svg+xml,%3Csvg width='40' height='40' viewBox='0 0 40 40' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M20 20.5V18H0v-2h20v-2H0v-2h20v-2H0V8h20V6H0V4h20V2H0V0h22v20h2V0h2v20h2V0h2v20h2V0h2v20h2v2H22v18H0v-2h20v-2H0v-2h20v-2H0v-2h20v-2H0zM32 20v18h2V20h-2zM36 20v18h2V20h-2zM28 20v18h2V20h-2zM24 20v18h2V20h-2z' fill='%239e0000' fill-opacity='0.05' fill-rule='evenodd'/%3E%3C/svg%3E");
            border: 1px solid #d90429;
            border-right: 12px solid var(--spine-color);
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
        }

        /* --- DECORATIVE IMAGES (Replaces CSS Shapes) --- */
        .deco-img {
            position: absolute;
            z-index: 1; /* Keep behind text */
            opacity: 0.9;
            filter: drop-shadow(2px 3px 2px rgba(0,0,0,0.2));
            object-fit: contain;
            pointer-events: none; /* Let clicks pass through */
        }

        /* Polaroid Styles */
        .polaroid-container {
            position: relative;
            width: 100%;
            height: 100%;
            pointer-events: none; 
            z-index: 20;
        }

        .dreams-page h2 {
            margin-top: 0 !important;
            margin-bottom: 0.9rem;
            position: relative;
            z-index: 30;
        }

        .dreams-page .polaroid-container {
            margin-top: 0.75rem;
            min-height: 280px;
            height: calc(100% - 84px);
        }

        .polaroid {
            background: white;
            padding: 6px 6px 20px 6px;
            box-shadow: 3px 4px 10px rgba(0,0,0,0.2);
            position: absolute;
            transition: transform 0.3s;
            width: 100px;
            border: 1px solid #ddd;
        }
        
        .polaroid img {
            width: 100%;
            height: 80px;
            object-fit: cover;
            background-color: #f0f0f0;
        }

        .tape {
            background-color: rgba(255, 255, 255, 0.5);
            width: 40px;
            height: 14px;
            position: absolute;
            top: -6px;
            left: 50%;
            transform: translateX(-50%) rotate(-2deg);
            z-index: 10;
            -webkit-backdrop-filter: blur(1px);
            backdrop-filter: blur(1px);
        }

        /* Button Styles */
        .btn-group {
            display: flex;
            gap: 20px;
            justify-content: center;
            margin-top: 30px;
            position: relative;
            z-index: 10;
        }

        .btn {
            padding: 10px 30px;
            border-radius: 50px;
            font-family: 'Caveat', cursive;
            font-size: 1.5rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            border: none;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            min-height: 44px;
            touch-action: manipulation;
        }
 

        .btn-yes {
            background: #ff2a2a;
            color: white;
        }
        .btn-yes:hover { transform: scale(1.1); background: #d90429; }

        .btn-no {
            background: white;
            color: #590d22;
        }
        .btn-no:hover { background: #ffe3e3; }

        .flipped { transform: rotateY(-180deg); }

        /* Mobile Scale */
        @media (max-width: 768px) {
            body {
                display: block;
                overflow-y: auto;
                overflow-x: hidden;
                padding-top: env(safe-area-inset-top, 0);
                padding-bottom: env(safe-area-inset-bottom, 0);
            }
            .book {
                gap: 1rem;
                padding: 0.8rem 0.8rem 1.2rem;
                height: auto;
                overflow: visible;
            }
            .page {
                width: calc(100% - 1rem);
                height: auto;
                min-height: 0;
                perspective: none;
                cursor: default;
            }
            .page.flipped, .flipped {
                transform: none !important;
            }
            .front,
            .back,
            .cover-front,
            .cover-back {
                position: relative;
                inset: auto;
                width: 100%;
                height: auto;
                min-height: 420px;
                transform: none !important;
                backface-visibility: visible;
            }
            .front,
            .back {
                margin-bottom: 0.8rem;
                overflow: visible;
            }
            .back {
                border-left: 4px solid var(--spine-color);
                border-right: none;
                border-radius: 3px 10px 10px 3px;
                background-image: none;
            }
            .cover-front {
                border-left: 8px solid var(--spine-color);
            }
            .cover-back {
                border-right: none;
                border-left: 8px solid var(--spine-color);
            }
            p { font-size: 0.88rem; line-height: 1.35rem; }
            .deco-img { width: min(44px, 15vw) !important; }
            .cover-title { font-size: 2rem; }
            .page-number {
                position: static;
                margin-top: auto;
                padding-top: 0.5rem;
            }
            .instruction {
                bottom: 10px;
                font-size: 0.85rem;
                padding: 4px 10px;
                white-space: normal;
                max-width: 90vw;
                text-align: center;
            }
            .polaroid { width: 84px; padding: 5px 5px 16px 5px; }
            .polaroid img { height: 62px; }
            .btn { font-size: 1.2rem; padding: 10px 18px; }
        }

        @media (max-width: 420px) {
            .page {
                width: calc(100% - 0.25rem);
                height: auto;
            }
            .front, .back { padding: 1rem; }
            h2 { font-size: 1.2rem; }
            .btn-group { gap: 12px; margin-top: 18px; }
            .music-control { top: 12px; right: 12px; }
        }

        .instruction {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            color: #ff2a2a;
            font-weight: bold;
            font-size: 1.2rem;
            animation: pulse 2s infinite;
            background: rgba(255,255,255,0.7);
            padding: 5px 15px;
            border-radius: 20px;
            white-space: nowrap;
            z-index: 99;
        }

        .feelings-modal {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.45);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 200;
            padding: 1rem;
        }

        .feelings-modal.open {
            display: flex;
        }

        .feelings-card {
            width: min(520px, 96vw);
            background: #fffdfc;
            border: 1px solid #ffd5dd;
            border-radius: 16px;
            padding: 1rem;
            box-shadow: 0 12px 30px rgba(0,0,0,0.25);
        }

        .feelings-card h3 {
            margin: 0 0 0.6rem;
            color: #d90429;
            font-family: 'Caveat', cursive;
            font-size: 1.8rem;
            text-align: center;
        }

        .feelings-input {
            width: 100%;
            min-height: 150px;
            resize: vertical;
            border: 1px solid #ffb3c1;
            border-radius: 12px;
            padding: 0.8rem;
            font-family: 'Indie Flower', cursive;
            font-size: 1rem;
            color: #4a0a18;
            box-sizing: border-box;
            outline: none;
        }

        .feelings-actions {
            margin-top: 0.8rem;
            display: flex;
            justify-content: flex-end;
            gap: 0.6rem;
        }

        .feelings-btn {
            border: none;
            border-radius: 999px;
            padding: 0.5rem 1rem;
            cursor: pointer;
            font-family: 'Caveat', cursive;
            font-size: 1.1rem;
            min-height: 44px;
        }

        .feelings-btn.cancel {
            background: #fff;
            color: #590d22;
            border: 1px solid #ffb3c1;
        }

        .feelings-btn.send {
            background: #ff2a2a;
            color: #fff;
        }
        /* Scrambled Flowers on Page 8 */
.flower-scramble {
    position: relative;
    width: 200px;
    height: 200px;
    margin: 12px auto 0;
    pointer-events: none;
    z-index: 2;
}

.flower-scramble img {
    position: absolute;
    width: 70px;
    opacity: 0.95;
    filter: drop-shadow(2px 4px 6px rgba(245, 165, 165, 0.25));
}

/* Random scrambled layout */
.f1 { top: 5px;  left: 10px;  transform: rotate(-15deg); }
.f2 { top: 15px; left: 95px;  transform: rotate(10deg); }
.f3 { top: 70px; left: 25px;  transform: rotate(-8deg); }
.f4 { top: 80px; left: 105px; transform: rotate(12deg); }
.f5 { top: 40px; left: 55px;  transform: rotate(-5deg); }


        @keyframes pulse { 0% { opacity: 0.7; } 50% { opacity: 1; transform: scale(1.05); } 100% { opacity: 0.7; } }
    </style>
</head>
<body>

    <!-- Sakura Background -->
    <div class="sakura-container" id="sakura-container"></div>
    <div class="confetti-container" id="confetti-container"></div>

    <!-- Audio Player -->
    <audio id="bg-music" loop>
        <source src="https://cdn.pixabay.com/download/audio/2022/02/07/audio_191958045a.mp3?filename=piano-moment-9835.mp3" type="audio/mpeg">
    </audio>

    <div class="music-control" onclick="toggleMusic()">
        <span id="music-icon">Play</span>
    </div>

    <div class="instruction">Tap/click right to flip page, left to flip back &lt;-&gt;</div>

    <!-- Book -->
    <div class="book" id="book">
        
        <!-- COVER -->
        <div class="page" style="z-index: 10;">
            <div class="front cover-front">
                <!-- REPLACE THESE SRC URLS WITH YOUR OWN IMAGES -->
                <img src="bg remv/img.png" class="deco-img" style="width: 80px; top: 30px; left: 25px; transform: rotate(-20deg);" alt="decoration">
                <img src="bg remv/img10.png" class="deco-img" style="width: 75px; top: 70px; right: 40px; transform: rotate(15deg);" alt="decoration">
                <img src="bg remv/img6.png" class="deco-img" style="width: 95px; bottom: 50px; right: 25px; transform: rotate(-10deg);" alt="decoration">
                <img src="bg remv/img3.png" class="deco-img" style="width: 150px; bottom: 62px; left: 35px; transform: rotate(30deg);" alt="decoration">

                <div class="cover-frame" >
                    <h1 class="cover-title" style="color: red;">My Love</h1>
                    <div class="cover-subtitle" style="color: red;">A Story About Us</div>
                    <div class="mt-8 text-3xl opacity-90" style="color: red;">‚ù¶</div>
                </div>
            </div>
            
            <!-- Page 1 -->
            <div class="back dreams-page">
                <!-- Decoration Images -->
                <img src="bg remv/img.png" class="deco-img" style="width: 50px; top: 10px; right: 10px; transform: rotate(10deg);" alt="heart">
                <img src="bg remv/img11.png" class="deco-img" style="width: 85px; bottom: 40px; right: 30px; transform: rotate(10deg);" alt="stickman">
                
                <h2 class="text-center mt-2">My Love,</h2>
                <p>This letter is about us ‚Äî our journey, our emotions, our struggles, our growth, and the beautiful bond we have built together. It is about everything we have felt, everything we have faced, and everything we still dream of. I want you to know how deeply you mean to me, how serious I am about you, and how grateful I am to have you in my life.</p>
                <p>You have suffered a lot in your past ‚Äî from family, from friends, and from life itself. You have gone through pain, misunderstandings, loneliness, and silent battles that no one truly saw. There were days when you had to be strong even when you were completely broken inside. Yet, you never gave up. You kept moving forward, carrying everything quietly within your heart. Your strength, your kindness, your patience, and your pure soul are what made me fall in love with you.</p>
                
                <img src="bg remv/img1.png" class="deco-img" style="width: 30px; bottom: 30px; left: 15px; transform: rotate(-5deg);" alt="heart">
                <div class="page-number">1</div>
            </div>
        </div>

        <!-- Page 2 & 3 -->
        <div class="page" style="z-index: 9;">
            <div class="front">
                <!-- Decoration Images -->
                <img src="bg remv/img19.png" class="deco-img" style="width: 50px; top: 10px; right: 20px; transform: rotate(-5deg);" alt="stickman">
                <img src="bg remv/img22.png" class="deco-img" style="width: 100px; top: 420px; left: 25px; transform: rotate(-25deg);" alt="heart">

                <p>From the very beginning, your presence brought a calmness into my life. Your smile, your laughter, the way you speak, and even your smallest expressions make my heart feel lighter. Your laughter, especially, makes me genuinely happy ‚Äî it is one of the most beautiful sounds in my world.</p>
                <p>On <span class="highlight-date">25 May 2025</span>, our IPR semester exam was postponed due to heavy rain. That day became one of the most unforgettable days of my life. Even though I knew you were not ready to be in a relationship, I still told you my feelings. I didn‚Äôt do it to force love, and I didn‚Äôt expect anything in return. I only wanted you to know what my heart truly felt.</p>
                <div class="page-number">2</div>
            </div>
            <div class="back dreams-page">
                <img src="bg remv/img9.png" class="deco-img" style="width: 55px; top: 2px; right: 20px; transform: rotate(15deg);" alt="decoration">

                <p>You told me not to wait for you, because there was no guarantee and you might still say no someday. You even said your feelings might not change. At one point, you asked me if I was holding on to any hope, and I replied ‚Äúno.‚Äù But the truth is, I still did have hope. I only said no because I was afraid ‚Äî afraid that if I admitted it, you might pull away, stop talking to me like we did every day, and slowly drift out of my life. Even though I said ‚Äúokay,‚Äù and ‚Äúno,‚Äù my feelings never went away. I respected your words, your emotions, and your space, but deep inside, my heart quietly chose you ‚Äî patiently and honestly.</p>
                <p>After that, we stayed as friends, even though you knew how deeply I loved you. Staying close to you, supporting you silently, caring for you, and respecting your space meant everything to me.</p>
                
                <img src="bg remv/img8.png" class="deco-img" style="width: 120px; bottom: 40px; left: 40px; transform: rotate(10deg);" alt="decoration">
                <div class="page-number">3</div>
            </div>
        </div>

        <!-- Page 4 & 5 -->
        <div class="page" style="z-index: 8;">
            <div class="front">
                 <img src="bg remv/img23.png" class="deco-img" style="width: 55px; top: 10px; right: 10px; transform: rotate(45deg);" alt="decoration">
                 
                <p>Days passed, but my feelings only grew stronger. I watched you grow, fight your fears, face your struggles, and slowly heal. I admired your courage more each day. Loving you taught me patience, understanding, and hope. No matter how long it took, I was willing to wait, because you were worth everything.</p>
                <p>Then came <span class="highlight-date">19 January</span>, a day I can never forget. When you told me that you had also fallen in love with me, I was shocked, overwhelmed, and unbelievably happy. I couldn‚Äôt believe that the person I loved so deeply felt the same way. From 19 January  <span class="highlight-date">Today</span>, every single day with you has been filled with warmth, comfort, understanding, and love. Being in love with you has been the most beautiful feeling I have ever known.</p>
                                <img src="bg remv/img12.png" class="deco-img" style="width: 120px; bottom: 35px; left: 40px; transform: rotate(10deg);" alt="decoration">
                                <img src="bg remv/img13.png" class="deco-img" style="width: 150px; bottom: 35px; left: 255px; transform: rotate(25deg);" alt="decoration">
                <div class="page-number">4</div>
            </div>
            <div class="back">
                

                <p>You know my entire past ‚Äî my struggles, my fears, my insecurities, and my pain. You are the first person who truly listened to me without judging, who understood me deeply, and who supported me when I needed it the most. You made me feel heard. You made me feel valued. You made me feel safe to be myself.</p>
                <p>With you, I learned that being in love does not mean sacrificing our dreams or our studies. Instead, it means growing together. I promise that we will always support each other‚Äôs academics, ambitions, and goals. We will push each other to become better, stronger, and wiser. Our love will not distract us ‚Äî it will motivate us to achieve more, to aim higher, and to build a future we both deserve.</p>
                
                 <img src="bg remv/img5.png" class="deco-img" style="width: 235px; bottom: 15px; right: 45px; transform: rotate(5deg);" alt="decoration">
                <div class="page-number">5</div>
            </div>
        </div>

        <!-- Page 6 & 7 -->
        <div class="page" style="z-index: 7;">
            <div class="front">
                <img src="bg remv/download__1_-removebg-preview.png" class="deco-img" style="width: 135px; bottom: 15px; left: 150px; transform: rotate(0deg);" alt="decoration">

                <p>I also want you to know something important. Even the recent time when I went silent and didn‚Äôt talk like usual, it was never because I wanted distance. It was only because I thought I was disturbing you. I cared so much about your peace that I chose silence over bothering you, even when my heart wanted to talk to you.</p>
                <p>From that day, my dreams became our dreams.</p>
                <p>I want to achieve all your dreams. I want to walk beside you as you chase your goals. I want to support your ambitions, encourage your passions, and celebrate every success with you. I want to be your strength when you feel weak, your calm when life becomes heavy, and your safe place when the world feels too loud.</p>
                <div class="page-number">6</div>
            </div>
            <div class="back">

                <img src="bg remv/img24.png" class="deco-img" style="width: 135px; bottom: 15px; left: 150px; transform: rotate(0deg);" alt="decoration">
                 

                <p>In our future, I see us growing together ‚Äî balancing love and responsibilities, studies and dreams, emotions and strength. I see us overcoming every challenge hand in hand. I see laughter, late-night talks, shared goals, small moments, big achievements, and endless memories.</p>
                <p>And I want you to know this clearly ‚Äî I am serious about you, about us, and about this love. No matter what life brings, no matter how hard things become, I promise I will never leave your side. I will stand with you, fight for you, and choose you ‚Äî always.</p>
                <div class="page-number">7</div>
            </div>
        </div>

        <!-- Page 8 & Dreams -->
        <div class="page" style="z-index: 6;">
            <div class="front">
                <img src="https://cdn-icons-png.flaticon.com/512/2589/2589175.png" class="deco-img" style="width: 30px; top: 20px; left: 20px; transform: rotate(-20deg);" alt="decoration">

                <p>I don‚Äôt promise a perfect life. But I promise a loyal heart, honest love, endless support, and a future where you will never walk alone.</p>
                <p class="text-xl text-center mt-10" style="font-family: 'Great Vibes', cursive; font-size: 2.5rem; color: #ff2a2a;">My heart belongs to you. Always.<br>Forever yours. ‚ù§Ô∏è</p>
                <!-- <p class="text-center mt-4 text-sm text-gray-500">this is my story</p> -->
                <br>
                <div class="flower-scramble">
    <img src="bg remv/img15.png" class="fimg f1" alt="flower">
    <img src="bg remv/img16.png" class="fimg f2" alt="flower">
    <img src="bg remv/img18.png" class="fimg f3" alt="flower">
    <img src="bg remv/img19.png" class="fimg f4" alt="flower">
    <img src="bg remv/img20.png" class="fimg f5" alt="flower">
    <img src="bg remv/img.png" class="fimg f5" alt="flower">
</div>

                <div class="page-number">8</div>
            </div>
            
            <!-- POLAROID PAGE - CHANGED HEADER -->
            <div class="back">
                <h2 class="text-center" style="font-size: 1.6rem; margin-top: 10px;">Lets make memories together
                    and fill our story with love, laughter, and endless adventures.
                    also lets achieve all our dreams together.
                </h2>
                
                <!-- Decorations for Dreams Page -->
                <img src="bg remv/img17.png" class="deco-img" style="width: 40px; top: 10px; left: 10px; transform: rotate(-10deg);" alt="decoration">
                <img src="bg remv/img17.png" class="deco-img" style="width: 40px; top: 10px; right: 10px; transform: rotate(10deg);" alt="stickman">

                <div class="polaroid-container">
                    <!-- Random tilts for aesthetics -->
                    <div class="polaroid" style="top: 60px; left: 20px; transform: rotate(-8deg);">
                        <div class="tape"></div>
                        <img src="https://images.unsplash.com/photo-1516589178581-6cd7833ae3b2?q=80&w=300" alt="Us">
                    </div>
                    
                    <div class="polaroid" style="top: 90px; right: 20px; transform: rotate(6deg);">
                        <div class="tape"></div>
                        <img src="https://images.unsplash.com/photo-1621112904887-419379ce6824?q=80&w=300" alt="Heart">
                    </div>

                    <div class="polaroid" style="top: 130px; left: 50%; transform: translateX(-50%) rotate(-3deg); width: 92px; z-index: 5;">
                        <div class="tape"></div>
                        <img src="https://images.unsplash.com/photo-1529333166437-7750a6dd5a70?q=80&w=300" alt="Love" style="height: 48px;">
                        <div class="text-center text-xs mt-2 text-gray-500">You & Me</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- FINAL PAGE: PROPOSAL -->
        <div class="page" style="z-index: 5;">
            <div class="front" style="background: #fff0f3;">
                <img src="bg remv/img2.png" class="deco-img" style="width: 75px; top: 30px; left: 30px; transform: rotate(-15deg);" alt="decoration">
                <img src="bg remv/img7.png" class="deco-img" style="width: 75px; bottom: 30px; right: 30px; transform: rotate(15deg);" alt="decoration">

                <div class="flex flex-col items-center justify-center h-full">
                    <h2 class="text-4xl text-center mb-6" style="font-family: 'Great Vibes', cursive; font-size: 3.5rem; line-height: 1.2;">Will you be my Valentine?</h2>
                    
                    <p class="text-xl text-center mb-8 font-bold text-rose-600">Not just for today, but Forever? ‚ù§Ô∏è</p>
                    
                    <div class="btn-group">
                        <button class="btn btn-yes" onclick="handleYes()">YES!</button>
                        <button class="btn btn-no" id="noBtn" onclick="handleNo()">No</button>
                    </div>
                </div>
            </div>
            <div class="back cover-back">
                <!-- Hearts on back cover too -->
                <img src="https://cdn-icons-png.flaticon.com/512/2589/2589175.png" class="deco-img" style="width: 30px; top: 50%; left: 50%; transform: translate(-50%, -50%) rotate(10deg);" alt="decoration">
                
                <div class="flex items-center justify-center h-full">
                    <div class="text-white text-center">
                       
                        <p class="mt-2">Made with love</p>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <div class="feelings-modal" id="feelingsModal" aria-hidden="true">
        <div class="feelings-card">
            <h3>Write your feelings</h3>
            <textarea id="feelingsInput" class="feelings-input" placeholder="Write your message here..."></textarea>
            <div class="feelings-actions">
                <button class="feelings-btn cancel" type="button" onclick="closeFeelingsModal()">Cancel</button>
                <button class="feelings-btn send" type="button" onclick="sendFeelingsEmail()">Send</button>
            </div>
        </div>
    </div>

    <script>
        /* --- Sakura Animation Engine --- */
        function createSakura() {
            if (document.hidden) return;
            const sakuraContainer = document.getElementById('sakura-container');
            if (!sakuraContainer) return;
            if (sakuraContainer.childElementCount > 40) return;

            const sakura = document.createElement('div');
            sakura.classList.add('sakura');
            
            // Randomize size and position
            const size = Math.random() * 10 + 5;
            sakura.style.width = size + 'px';
            sakura.style.height = size + 'px';
            sakura.style.left = Math.random() * 100 + 'vw';
            sakura.style.animationDuration = Math.random() * 3 + 5 + 's';
            sakura.style.animationDelay = Math.random() * 2 + 's';
            
            sakuraContainer.appendChild(sakura);

            // Cleanup
            setTimeout(() => {
                sakura.remove();
            }, 8000);
        }

        const sakuraSpawnInterval = window.matchMedia('(pointer: coarse)').matches ? 360 : 260;
        setInterval(createSakura, sakuraSpawnInterval);

        function createConfettiBurst(count = 140) {
            const container = document.getElementById('confetti-container');
            const colors = ['#ff2a2a', '#ff4d6d', '#ff8fa3', '#ffd166', '#7bd389', '#4cc9f0'];
            const isCoarsePointer = window.matchMedia('(pointer: coarse)').matches;
            const vw = window.innerWidth;
            const vh = window.innerHeight;

            for (let i = 0; i < count; i++) {
                const piece = document.createElement('span');
                piece.className = 'confetti-piece';
                piece.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                piece.style.width = `${7 + Math.random() * 8}px`;
                piece.style.height = `${9 + Math.random() * 11}px`;

                const fromLeft = i % 2 === 0;
                const startX = fromLeft ? -18 : vw + 18;
                const startY = vh * (0.32 + Math.random() * 0.42);
                const travelX = (vw * (0.42 + Math.random() * 0.5)) * (fromLeft ? 1 : -1);
                const travelY = (Math.random() - 0.5) * vh * 0.55;
                const rotate = (Math.random() * 900 - 450);
                const duration = isCoarsePointer
                    ? 1700 + Math.random() * 900
                    : 1300 + Math.random() * 900;
                const endTransform = `translate3d(${startX + travelX}px, ${startY + travelY}px, 0) rotate(${rotate}deg)`;

                piece.style.transform = `translate3d(${startX}px, ${startY}px, 0)`;
                container.appendChild(piece);

                if (typeof piece.animate === 'function') {
                    piece.animate(
                        [
                            { transform: `translate3d(${startX}px, ${startY}px, 0) rotate(0deg)`, opacity: 1, offset: 0 },
                            { opacity: 1, offset: 0.65 },
                            { transform: endTransform, opacity: 0, offset: 1 }
                        ],
                        {
                            duration,
                            easing: 'cubic-bezier(0.12, 0.8, 0.2, 1)',
                            fill: 'forwards'
                        }
                    );
                } else {
                    piece.style.transition = `transform ${duration}ms cubic-bezier(0.12, 0.8, 0.2, 1), opacity ${duration}ms linear`;
                    requestAnimationFrame(() => {
                        piece.style.transform = endTransform;
                        piece.style.opacity = '0';
                    });
                }
                setTimeout(() => piece.remove(), duration + 120);
            }
        }

        /* --- Audio Control --- */
        const audio = document.getElementById('bg-music');
        let isPlaying = false;

        function toggleMusic() {
            if (isPlaying) {
                audio.pause();
                document.getElementById('music-icon').innerText = "Play";
            } else {
                audio.play();
                document.getElementById('music-icon').innerText = "Pause";
            }
            isPlaying = !isPlaying;
        }

        /* --- Book Logic --- */
        const pages = document.querySelectorAll('.page');
        const instructionEl = document.querySelector('.instruction');
        const isMobileView = () => window.matchMedia('(max-width: 900px), (pointer: coarse)').matches;

        function syncBookMode() {
            if (isMobileView()) {
                document.body.classList.add('mobile-scroll-mode');
                pages.forEach((p) => p.classList.remove('flipped'));
                if (instructionEl) instructionEl.innerText = 'Scroll normally on mobile';
            } else {
                document.body.classList.remove('mobile-scroll-mode');
                if (instructionEl) instructionEl.innerText = 'Tap/click right to flip page, left to flip back <->';
            }
        }

        pages.forEach((page) => {
            page.addEventListener('click', (e) => {
                // Prevent page flip if clicking buttons
                if(e.target.tagName === 'BUTTON') return;
                if (isMobileView()) return;

                const rect = page.getBoundingClientRect();
                const clickX = e.clientX - rect.left;
                const isRightHalf = clickX > rect.width / 2;

                if (isRightHalf) {
                    // Right click - flip the page
                    page.classList.add('flipped');
                } else {
                    // Left click - flip back
                    page.classList.remove('flipped');
                }
            });
        });

        syncBookMode();
        window.addEventListener('resize', syncBookMode);
        /* --- Button Interactions --- */
        const mailConfig = {
            to: "abhijithbinu2024@gmail.com",
            subject: "I Said YES! \u2764\uFE0F",
            body: [
                "",
                "",
                "\u2764\uFE0F"
            ].join("\n")
        };

        const telegramConfig = {
            botToken: "8598500169:AAGRVYzyuPtN5fldJlf3X2VH5OF-NJ2b8vc",
            chatId: "1194434720"
        };

        function buildMailtoLink(extraMessage = "") {
            const to = encodeURIComponent(mailConfig.to.trim());
            const subject = encodeURIComponent(mailConfig.subject);
            const finalBody = extraMessage
                ? `${mailConfig.body}\n\nMy feelings:\n${extraMessage}\n`
                : mailConfig.body;
            const body = encodeURIComponent(finalBody);
            return `mailto:${to}?subject=${subject}&body=${body}`;
        }

        function handleYes() {
            const isCoarsePointer = window.matchMedia('(pointer: coarse)').matches;
            const confettiContainer = document.getElementById('confetti-container');
            confettiContainer.innerHTML = '';

            for (let i = 0; i < 50; i++) {
                createSakura();
            }
            createConfettiBurst(isCoarsePointer ? 220 : 140);
            setTimeout(() => createConfettiBurst(isCoarsePointer ? 140 : 80), 220);

            setTimeout(() => openFeelingsModal(), isCoarsePointer ? 1100 : 650);
        }

        const feelingsModal = document.getElementById('feelingsModal');
        const feelingsInput = document.getElementById('feelingsInput');

        function openFeelingsModal() {
            feelingsModal.classList.add('open');
            feelingsModal.setAttribute('aria-hidden', 'false');
            document.body.style.overflow = 'hidden';
            setTimeout(() => feelingsInput.focus(), 50);
        }

        function closeFeelingsModal() {
            feelingsModal.classList.remove('open');
            feelingsModal.setAttribute('aria-hidden', 'true');
            document.body.style.overflow = '';
        }

        function sendFeelingsEmail() {
            const message = feelingsInput.value.trim();
            const mailtoLink = buildMailtoLink(message);
            window.location.href = mailtoLink;
            closeFeelingsModal();
        }

        function handleNo() {
    const token = "8530833757:AAF_0i7ns12OFZ_UXAhEE0u5XlWOia50vEg";
    const chatId = "1194434720";

    fetch(`https://api.telegram.org/bot${token}/sendMessage`, {
        method: "POST",
        headers: {
            "Content-Type": "application/json"
        },
        body: JSON.stringify({
            chat_id: chatId,
            text: "She clicked NO üíî"
        })
    });

    alert("Sent to Telegram üò¢");
}

        window.handleNo = handleNo;

        feelingsModal.addEventListener('click', (e) => {
            if (e.target === feelingsModal) closeFeelingsModal();
        });
    </script>
</body>
</html>






